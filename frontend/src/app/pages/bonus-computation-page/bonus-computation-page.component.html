<section style="display:flex; flex-direction: row;">

  <div
    style="display:flex; flex-direction: column; width:50%; height:1000px; justify-content: center; align-items:center">
    <form class="example-form">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Salesman</mat-label>
        <input type="text" matInput [formControl]="autoCompleteControl" [matAutocomplete]="auto" (input)="checkInput()">
        <button matSuffix mat-icon-button (click)="clearInput()"><mat-icon>close</mat-icon></button>
        <mat-autocomplete #auto="matAutocomplete">
          <mat-option *ngFor="let option of filteredAutoCompleteOptions | async" [value]="option" (onSelectionChange)="onSelFunc(option)" >
            {{option}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
      <mat-form-field appearance="fill" >
        <mat-label>Year of performance</mat-label>
        <input matInput type="number" placeholder="2021" [formControl]="myControl" min="1950">
        <mat-error *ngIf="years < 1950">1950</mat-error>
      </mat-form-field>
    </form>
    <ag-grid-angular style="width: 60%; height:50%;" class="ag-theme-alpine" [rowData]="salesmenRowData "
                     [columnDefs]="salesmenColumnDefs" [rowSelection]="rowSelection" (selectionChanged)="onSelectionChanged($event)" (gridReady)="onGridReady($event)" [isExternalFilterPresent]="isExternalFilterPresent" [doesExternalFilterPass]="doesExternalFilterPass" >
    </ag-grid-angular>
  </div>
  <div
    style="display:flex; flex-direction: column; width:50%; height:1000px; justify-content: center; align-items:center">
    <div [ngClass]="'custom-table-container'">
      <table [ngClass]="'custom-table'" *ngIf="selectedSalesman">
        <tr>
          <th>Name:</th>
          <td>{{selectedSalesman.firstName}} {{selectedSalesman.lastName}}</td>
        </tr>
        <tr>
          <th>Employeed ID:</th>
          <td>{{selectedSalesman.employeeId}}</td>
        </tr>
        <tr>
          <th>Department:</th>
          <td>{{selectedSalesman.department}}</td>
        </tr>
        <tr>
          <th>Year of Performance</th>
          <td>{{myControl.value}}</td>
        </tr>
      </table>
    </div>
    <div style="width:100%; height:50%; border:1px solid black; padding:10px; margin: 10px;">
      <p>A.) Orders Evaluation</p>
      <ag-grid-angular style="width: 75%; height:85%;" class="ag-theme-alpine" [rowData]="ordersRowData"
                       [columnDefs]="ordersColumnDefs" (cellValueChanged)="method($event)">
      </ag-grid-angular>
      <table style="display:flex; flex-direction: row;justify-content: right">
        <tr>
          <th>Total Bonus for part A):</th>
          <td>{{ bonuses.totalBonusA }}</td>
        </tr>
      </table>
    </div>
    <div style="width:100%; height:50%; border:1px solid black;padding:10px;margin: 10px;">
      <p>B.) Social Performance Evaluation</p>
      <ag-grid-angular style="width: 75%; height:85%;" class="ag-theme-alpine"
                       [rowData]="performanceRowData" [columnDefs]="performanceColumnDefs" (cellValueChanged)="method($event)">
      </ag-grid-angular>
      <table style="display:flex; flex-direction: row;justify-content: right">
        <tr>
          <th>Total Bonus for part B):</th>
          <td>{{ bonuses.totalBonusB }}</td>
        </tr>
      </table>
    </div>
    <div style="display:flex; flex-direction: row; border:1px solid black; justify-content: right">
      <table>
        <tr>
          <th>Total Bonus (part A & B):</th>
          <td>{{ bonuses.totalBonusAB }}</td>
        </tr>
      </table>
    </div>
    <div style="display:flex; flex-direction: column; width:100%">
      <div>
        <mat-label>Remarks</mat-label>
      </div>
      <div style="width:100%">
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Leave your remarks here</mat-label>
          <textarea matInput placeholder="Ex. Improve on everything..."></textarea>
        </mat-form-field>
      </div>
      <div>
        <button mat-button (click)="export()">Export</button>
      </div>
    </div>
  </div>
</section>
